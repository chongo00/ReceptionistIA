FROM ollama/ollama:latest

# Start ollama in background, download model, and stop
RUN ollama serve & \
    sleep 5 && \
    ollama pull qwen2.5:3b && \
    sleep 2 && \
    kill %1

EXPOSE 11434
ENTRYPOINT ["/bin/ollama"]
CMD ["serve"]
